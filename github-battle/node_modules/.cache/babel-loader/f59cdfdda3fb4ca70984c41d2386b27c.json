{"ast":null,"code":"import _slicedToArray from \"/Users/Sarah Schwartz/Desktop/CODING/Apps REACT/github-battle/github-battle/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/Sarah Schwartz/Desktop/CODING/Apps REACT/github-battle/github-battle/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Sarah Schwartz/Desktop/CODING/Apps REACT/github-battle/github-battle/src/components/Results.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useReducer } from 'react';\nimport { battle } from '../utils/api';\nimport { FaCompass, FaBriefcase, FaUsers, FaUserFriends, FaCode, FaUser } from 'react-icons/fa';\nimport Card from './Card';\nimport Loading from './Loading';\nimport PropTypes from 'prop-types';\nimport Tooltip from './Tooltip';\nimport queryString from 'query-string';\nimport { Link } from 'react-router-dom';\n\nconst ProfileList = ({\n  profile\n}) => {\n  return React.createElement(\"ul\", {\n    className: \"card-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(FaUser, {\n    color: \"rgb(239, 115, 115)\",\n    size: 22,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }), profile.name), profile.location && React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, React.createElement(Tooltip, {\n    text: \"User's location\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(FaCompass, {\n    color: \"rgb(144, 115, 255)\",\n    size: 22,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), profile.location)), profile.company && React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Tooltip, {\n    text: \"User's company\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(FaBriefcase, {\n    color: \"#795548\",\n    size: 22,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), profile.company)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(FaUsers, {\n    color: \"rgb(129, 195, 245\",\n    size: 22,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), profile.followers.toLocaleString(), \" followers\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(FaUserFriends, {\n    color: \"rgb(64, 183, 95\",\n    size: 22,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), profile.following.toLocaleString(), \" following\"));\n};\n\nProfileList.propTypes = {\n  profile: PropTypes.object.isRequired\n};\n\nconst battleReducer = (state, action) => {\n  switch (action.type) {\n    case 'battle_success':\n      return _objectSpread({}, state, {\n        winner: action.winner,\n        loser: action.loser,\n        error: null,\n        loading: false\n      });\n\n    case 'error':\n      return _objectSpread({}, state, {\n        error: action.error.message,\n        loading: false\n      });\n\n    default:\n      throw new Error(\"That action type isn't supported.\");\n  }\n};\n\nconst Results = ({\n  location\n}) => {\n  //pass the player query info (location.search) to queryString to parse it for use\n  const _queryString$parse = queryString.parse(location.search),\n        playerOne = _queryString$parse.playerOne,\n        playerTwo = _queryString$parse.playerTwo;\n\n  const initialState = {\n    winner: null,\n    loser: null,\n    error: null,\n    loading: true\n  };\n\n  const _useReducer = useReducer(battleReducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  useEffect(() => {\n    battle([playerOne, playerTwo]).then(players => {\n      dispatch({\n        type: 'battle_success',\n        winner: players[0],\n        loser: players[1]\n      });\n    }).catch(error => {\n      dispatch({\n        type: 'error',\n        error\n      });\n    });\n  }, [playerOne, playerTwo]);\n  const winner = state.winner,\n        loser = state.loser,\n        error = state.error,\n        loading = state.loading;\n\n  if (loading === true) {\n    return React.createElement(Loading, {\n      text: \"Battling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    });\n  }\n\n  if (error) {\n    return React.createElement(\"p\", {\n      className: \"center-text error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, error, \"}\");\n  }\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"grid space-around container-sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(Card, {\n    header: winner.score === loser.score ? 'Tie' : 'Winner',\n    subheader: \"Score: \".concat(winner.score.toLocaleString()),\n    avatar: winner.profile.avatar_url,\n    href: winner.profile.html_url,\n    name: winner.profile.login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(ProfileList, {\n    profile: winner.profile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })), React.createElement(Card, {\n    header: winner.score === loser.score ? 'Tie' : 'Loser',\n    subheader: \"Score: \".concat(loser.score.toLocaleString()),\n    avatar: loser.profile.avatar_url,\n    href: loser.profile.html_url,\n    name: loser.profile.login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(ProfileList, {\n    profile: loser.profile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }))), React.createElement(Link, {\n    to: \"/battle\",\n    className: \"btn dark-btn btn-space\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Reset\"));\n};\n\nexport default Results;","map":{"version":3,"sources":["/Users/Sarah Schwartz/Desktop/CODING/Apps REACT/github-battle/github-battle/src/components/Results.js"],"names":["React","useEffect","useReducer","battle","FaCompass","FaBriefcase","FaUsers","FaUserFriends","FaCode","FaUser","Card","Loading","PropTypes","Tooltip","queryString","Link","ProfileList","profile","name","location","company","followers","toLocaleString","following","propTypes","object","isRequired","battleReducer","state","action","type","winner","loser","error","loading","message","Error","Results","parse","search","playerOne","playerTwo","initialState","dispatch","then","players","catch","score","avatar_url","html_url","login"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from 'react';\nimport { battle } from '../utils/api';\nimport {\n  FaCompass,\n  FaBriefcase,\n  FaUsers,\n  FaUserFriends,\n  FaCode,\n  FaUser,\n} from 'react-icons/fa';\nimport Card from './Card';\nimport Loading from './Loading';\nimport PropTypes from 'prop-types';\nimport Tooltip from './Tooltip';\nimport queryString from 'query-string';\nimport { Link } from 'react-router-dom';\n\nconst ProfileList = ({ profile }) => {\n  return (\n    <ul className='card-list'>\n      <li>\n        <FaUser color='rgb(239, 115, 115)' size={22} />\n        {profile.name}\n      </li>\n      {profile.location && (\n        <li>\n          <Tooltip text=\"User's location\">\n            <FaCompass color='rgb(144, 115, 255)' size={22} />\n            {profile.location}\n          </Tooltip>\n        </li>\n      )}\n      {profile.company && (\n        <li>\n          <Tooltip text=\"User's company\">\n            <FaBriefcase color='#795548' size={22} />\n            {profile.company}\n          </Tooltip>\n        </li>\n      )}\n      <li>\n        <FaUsers color='rgb(129, 195, 245' size={22} />\n        {profile.followers.toLocaleString()} followers\n      </li>\n      <li>\n        <FaUserFriends color='rgb(64, 183, 95' size={22} />\n        {profile.following.toLocaleString()} following\n      </li>\n    </ul>\n  );\n};\n\nProfileList.propTypes = {\n  profile: PropTypes.object.isRequired,\n};\n\nconst battleReducer = (state, action) => {\n  switch (action.type) {\n    case 'battle_success':\n      return {\n        ...state,\n        winner: action.winner,\n        loser: action.loser,\n        error: null,\n        loading: false,\n      };\n    case 'error':\n      return {\n        ...state,\n        error: action.error.message,\n        loading: false,\n      };\n    default:\n      throw new Error(`That action type isn't supported.`);\n  }\n};\n\nconst Results = ({ location }) => {\n  //pass the player query info (location.search) to queryString to parse it for use\n  const { playerOne, playerTwo } = queryString.parse(location.search);\n  const initialState = {\n    winner: null,\n    loser: null,\n    error: null,\n    loading: true,\n  };\n  const [state, dispatch] = useReducer(battleReducer, initialState);\n\n  useEffect(() => {\n    battle([playerOne, playerTwo])\n      .then((players) => {\n        dispatch({\n          type: 'battle_success',\n          winner: players[0],\n          loser: players[1],\n        });\n      })\n      .catch((error) => {\n        dispatch({ type: 'error', error });\n      });\n  }, [playerOne, playerTwo]);\n\n  const { winner, loser, error, loading } = state;\n\n  if (loading === true) {\n    return <Loading text='Battling' />;\n  }\n\n  if (error) {\n    return <p className='center-text error'>{error}}</p>;\n  }\n\n  return (\n    <React.Fragment>\n      <div className='grid space-around container-sm'>\n        <Card\n          header={winner.score === loser.score ? 'Tie' : 'Winner'}\n          subheader={`Score: ${winner.score.toLocaleString()}`}\n          avatar={winner.profile.avatar_url}\n          href={winner.profile.html_url}\n          name={winner.profile.login}\n        >\n          <ProfileList profile={winner.profile} />\n        </Card>\n        <Card\n          header={winner.score === loser.score ? 'Tie' : 'Loser'}\n          subheader={`Score: ${loser.score.toLocaleString()}`}\n          avatar={loser.profile.avatar_url}\n          href={loser.profile.html_url}\n          name={loser.profile.login}\n        >\n          <ProfileList profile={loser.profile} />\n        </Card>\n      </div>\n      <Link to='/battle' className='btn dark-btn btn-space'>\n        Reset\n      </Link>\n    </React.Fragment>\n  );\n};\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}